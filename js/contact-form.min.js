(function($,Drupal,window,document,undefined){'use strict';Drupal.behaviors.formValidation={attach:function(context,settings){function stringCheck(word){var elementValue=word;var ssnPattern=/^\d{3}-?\d{2}-?\d{4}$/;var ccPattern='^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35d{3})d{11})$';if(elementValue.match(ssnPattern)){return'ssn';}
else if(elementValue.match(ccPattern)){return'ccn';}
else{return false;}}
function checkEmail(email){var re=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;if(email.match(re)){return true;}
else{return false;}}
$.fn.addError=function(){var $thisElement=$(this);var $error=$thisElement.parent().find('.error-msg');var $dis=$('#edit-submit:disabled');if(!$thisElement.hasClass('error')){$thisElement.addClass('error');}
if($error.length&&!$dis.length){$('#edit-submit').attr('disabled','disabled');}};$.fn.removeError=function(){var $thisElement=$(this);var $error=$thisElement.parent().find('.error-msg');var $dis=$('#edit-submit:disabled');if($thisElement.hasClass('error')){$thisElement.removeClass('error');}
if(!$error.length&&$dis.length){$('#edit-submit').removeAttr('disabled')}};$.fn.validate=function(){var $thisElement=$(this);var $thisParent=$thisElement.parent();var $ssnError=$thisParent.find('.ssn-error-message');var $ccnError=$thisParent.find('.cc-error-message');var ssnTest=0;var ccnTest=0;var elementValue=$thisElement.val();var split=elementValue.split(' ');for(var i=0;i<split.length;i++){var word=split[i].replace(/\s+/,'');var ccVal=stringCheck(word);var ssnVal=stringCheck(word);if(ssnVal==='ssn'){ssnTest=1;}
else if(ccVal==='ccn'){ccnTest=1;}}
if(ccnTest===1&&!$ccnError.length){$thisParent.append('<p style="color: red;" class="cc-error-message error-msg">Please remove the credit card number.<p>');$thisElement.addError();}
else if(ccnTest!==1&&$ccnError.length){$ccnError.remove();$thisElement.removeError();}
if(ssnTest===1&&!$ssnError.length){$thisParent.append('<p style="color: red;" class="ssn-error-message error-msg">Please remove the 9 digit social security number.<p>');$thisElement.addError();}
else if(ssnTest!==1&&$ssnError.length){$ssnError.remove();$thisElement.removeError();}}
$.fn.emailValidate=function(){var $thisElement=$(this);var $thisParent=$thisElement.parent();var $errorText=$thisParent.find('.email-error-message');var email=$thisElement.val();var emailValue=checkEmail(email);if(emailValue!==true){$thisElement.addClass('error');$('#edit-submit').attr('disabled','disabled');if(!$errorText.length){$thisParent.append('<p style="color: red;" class="email-error-message">Please input a valid email address<p>');}}else{$thisElement.removeClass('error');$('#edit-submit').removeAttr('disabled');if($errorText.length){$errorText.remove();}}}
$('#contact-us-form textarea, #contact-us-form input[type="text"]').not('#edit-contact-info-email').change(function(){$(this).validate();});$('#edit-contact-info-email').change(function(){$(this).emailValidate();});}};})(jQuery,Drupal,this,this.document);
